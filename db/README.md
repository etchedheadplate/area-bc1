This directory hosts database source files and generated outputs.

# Example Structure
```sh
db
├── {command1}
│   ├── {command1}.json
│   ├── {command1}.csv
│   ├── {command1}.jpg
│   └── {command1}.md
├── {command2}
│   └── subfolder
│       ├── {command2}_some_text.jpg
│       └── {command2}_some_text.md
├── {command3}
│   ├── {command3}.json
│   ├── {command3}.csv
│   ├── {command3}_days_1.jpg
│   ├── {command3}_days_1.md
│   ├── {command3}_days_2.jpg
│   ├── {command3}_days_2.md
│   └── ...
...
```

### Database

Database source files are named the same as corresponding {command} and can be `.csv` charts or `.json` snapshots. They are generated by `make_chart_data()` and `make_snapshot_data()` functions in `tools.py`, based on API parameters in `charts` and `snapshots` dictionaries in `config.py`.

### Outputs

Generated output files are named the same as corresponding {command} and can be `.jpg` images or `.md` texts. They are generated by `draw_{command}()` and `write_{command}()` functions in `cmds/{command}.py`. Some output files can have additional info in their names (like transaction hash or how old is data in days from today).

### Maintenance

Database is managed by `update_databases()` and `clean_databases()` functions in `tools.py`. Updates re-write existing charts and snapshots with schedule set in `updates` dictionary in `config.py`. Cleaning database results in deletion of all `.jpg` and `.md` files older than 72 hours.